(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(33),n=a.n(s),r=(a(40),a(2)),l=(a(41),a(5)),o=a.n(l),i=a(4),d=a(11),m=a(18),j=a(12),b=a.n(j),p=a(14),u=a(0),h=function(){var e,t,a,s,n,l=Object(c.useState)([]),j=Object(m.a)(l,2),h=j[0],O=j[1],x=Object(c.useState)(0),f=Object(m.a)(x,2),g=f[0],v=f[1],N=Object(c.useState)(""),y=Object(m.a)(N,2),k=y[0],w=y[1],S=localStorage.getItem("token");Object(c.useEffect)((function(){U()}),[]),Object(c.useEffect)((function(){U()}),[g]);try{var C=Object(p.a)(S);n=C._id}catch(_){return localStorage.clear(),Object(u.jsx)(r.a,{to:"/login"})}var I={title:"",desc:"",userID:n,token:S};function U(){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://route-egypt-api.herokuapp.com/getUserNotes",{headers:{userID:n,token:S}});case 2:t=e.sent,"success"===(a=t.data).message&&(O(a.Notes),console.log(h));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,b.a.post("https://route-egypt-api.herokuapp.com/addNote",I);case 4:a=e.sent,"success"===a.data.message&&v(Math.random());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=e.target;I[t.name]=t.value}function M(){return(M=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,b.a.put("https://route-egypt-api.herokuapp.com/updateNote",{title:I.title,desc:I.desc,NoteID:k,token:S});case 4:a=e.sent,"updated"===a.data.message&&v(Math.random());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("https://route-egypt-api.herokuapp.com/deleteNote",{data:{NoteID:t,token:S}});case 2:a=e.sent,"deleted"===a.data.message&&v(Math.random());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsx)("div",{className:"col-md-12 m-auto text-right",children:Object(u.jsxs)("a",{className:"add p-2 btn","data-toggle":"modal","data-target":"#exampleModal",children:[Object(u.jsx)("i",{className:"fas fa-plus-circle"})," Add New"]})})}),Object(u.jsx)("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsx)("form",{onSubmit:function(e){return F.apply(this,arguments)},children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsx)("input",(e={onKeyUp:K,name:"title",placeholder:"Type Title"},Object(i.a)(e,"name","title"),Object(i.a)(e,"className","form-control"),Object(i.a)(e,"type","text"),e)),Object(u.jsx)("textarea",(t={onKeyUp:K,name:"desc",className:"form-control my-2",placeholder:"Type your note"},Object(i.a)(t,"name","desc"),Object(i.a)(t,"id",""),Object(i.a)(t,"cols","30"),Object(i.a)(t,"rows","10"),t))]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(u.jsxs)("button",{type:"submit",className:"btn btn-info",children:[Object(u.jsx)("i",{className:"fas fa-plus-circle"})," Add Note"]})]})]})})})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",children:h.map((function(e,t){return Object(u.jsx)("div",{className:"col-md-4 my-4",children:Object(u.jsxs)("div",{className:"note p-4",children:[Object(u.jsx)("h3",{className:"float-left",children:e.title}),Object(u.jsx)("a",{"data-toggle":"modal","data-target":"#exampleModal2",onClick:function(){return w(e._id)},children:Object(u.jsx)("i",{className:"fas fa-edit float-right edit"})}),Object(u.jsxs)("a",{onClick:function(){return function(e){return T.apply(this,arguments)}(e._id)},children:[" ",Object(u.jsx)("i",{className:"fas fa-trash-alt float-right px-3 del"})]}),Object(u.jsx)("span",{className:"clearfix"}),Object(u.jsx)("p",{children:e.desc})]})},t)}))}),Object(u.jsx)("div",{className:"modal fade",id:"exampleModal2","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsx)("form",{onSubmit:function(e){return M.apply(this,arguments)},children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsx)("input",(a={onChange:K,name:"title",placeholder:"Type Title"},Object(i.a)(a,"name","title"),Object(i.a)(a,"className","form-control"),Object(i.a)(a,"type","text"),a)),Object(u.jsx)("textarea",(s={onChange:K,name:"desc",className:"form-control my-2",placeholder:"Type your note"},Object(i.a)(s,"name","desc"),Object(i.a)(s,"id",""),Object(i.a)(s,"cols","30"),Object(i.a)(s,"rows","10"),s))]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(u.jsxs)("button",{type:"submit",className:"btn btn-info",children:[Object(u.jsx)("i",{className:"fas fa-plus-circle"})," Edit Note"]})]})]})})})})]})]})},O=function(e){var t={email:"",password:""};function a(e){var a=e.target;t[a.name]=a.value}function c(){return(c=Object(d.a)(o.a.mark((function a(){var c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.post("https://route-egypt-api.herokuapp.com/signin",t);case 2:c=a.sent,"success"===(s=c.data).message?(localStorage.setItem("token",s.token),e.history.replace("/home")):localStorage.clear();case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container my-5 py-5",children:Object(u.jsxs)("div",{className:"col-md-5 m-auto text-center",children:[Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,placeholder:"Enter email",name:"email",type:"email",className:"form-control"})}),Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,placeholder:"confirm Password",name:"password",type:"password",className:"form-control"})}),Object(u.jsx)("button",{onClick:function(){return c.apply(this,arguments)},type:"submit",className:"btn btn-info w-100",children:"SignIn"})]})})})},x=a(10),f=function(){var e,t,a=Object(r.g)().pathname;try{t=localStorage.getItem("token"),e=Object(p.a)(t)}catch(c){localStorage.clear()}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/",children:"Notes"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:"/home"===a||t?Object(u.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(u.jsx)("li",{className:"nav-item",children:e?Object(u.jsx)("span",{children:e.first_name}):null}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(x.b,{onClick:function(){localStorage.clear()},className:"nav-link",to:"/login",children:"Logout"})})]}):Object(u.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(x.b,{className:"nav-link",to:"/register",children:"Register"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(x.b,{className:"nav-link",to:"/login",children:"Login"})})]})})]})})})},g=a(35),v=function(e){var t=localStorage.getItem("token");try{Object(p.a)(t)}catch(a){return localStorage.clear(),Object(u.jsx)(r.a,{to:"/login"})}if(t)return Object(u.jsx)(r.b,Object(g.a)({},e))},N=function(e){var t={first_name:"",last_name:"",email:"",password:"",age:""};function a(e){var a=e.target;t[a.name]=a.value}function c(){return(c=Object(d.a)(o.a.mark((function a(){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.post("https://route-egypt-api.herokuapp.com/signup",t);case 2:c=a.sent,"success"===c.data.message&&e.history.push("/login");case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container my-5 py-5",children:Object(u.jsxs)("div",{className:"col-md-5 m-auto text-center",children:[Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,name:"first_name",placeholder:"Enter your first name",type:"text",className:" form-control"})}),Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,name:"last_name",placeholder:"Enter your last name",type:"text",className:" form-control"})}),Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,placeholder:"Enter email",type:"email",name:"email",className:"form-control"})}),Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,placeholder:"Enter you password",type:"password",name:"password",className:"form-control"})}),Object(u.jsx)("div",{className:"form-group mb-3",children:Object(u.jsx)("input",{onKeyUp:a,placeholder:"Enter your age",name:"age",type:"number",className:"form-control"})}),Object(u.jsx)("button",{onClick:function(){return c.apply(this,arguments)},type:"submit",className:"btn mt-3 btn-info w-100",children:"SignUp"})]})})})};var y=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{}),Object(u.jsxs)(r.d,{children:[Object(u.jsx)(v,{path:"/home",component:h}),Object(u.jsx)(r.b,{path:"/register",component:N}),Object(u.jsx)(r.b,{path:"/login",component:O}),Object(u.jsx)(r.b,{path:"/",exact:!0,component:O}),Object(u.jsx)(r.a,{to:"/"})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};a(66),a(67),a(68),a(71);n.a.render(Object(u.jsx)(x.a,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),k()}},[[72,1,2]]]);
//# sourceMappingURL=main.debfa1bc.chunk.js.map